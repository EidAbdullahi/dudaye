{% extends "base.html" %}
{% load static %}

{% block title %}{{ dashboard_title }}{% endblock %}

{% block content %}
<div class="p-8 space-y-8">

  <!-- Header -->
  <div class="flex justify-between items-center mb-6">
    <div>
      <h1 class="text-3xl font-bold text-blue-600">{{ dashboard_title }}</h1>
      <p class="text-gray-500 dark:text-gray-400">Submit a new claim for your hospital‚Äôs patients</p>
    </div>
    <a href="{% url 'hospitals:dashboard' %}" 
       class="bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 px-5 py-3 rounded-lg transition">
      ‚Üê Back to Dashboard
    </a>
  </div>

  <!-- Claim Form -->
  <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-3xl mx-auto">
    <form method="POST" class="space-y-6">
      {% csrf_token %}

      <!-- Client Selection -->
      <div>
        <label for="client" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          Select Client
        </label>
        <select name="client" id="client" required
          class="w-full border border-gray-300 dark:border-gray-700 rounded-lg px-4 py-3 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500">
          <option value="">-- Choose Client --</option>
          {% for client in clients %}
            <option value="{{ client.id }}">{{ client.full_name }} ({{ client.policy_number }})</option>
          {% endfor %}
        </select>
      </div>

      <!-- Policy Selection -->
      <div>
        <label for="policy" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          Select Policy
        </label>
        <select name="policy" id="policy" required
          class="w-full border border-gray-300 dark:border-gray-700 rounded-lg px-4 py-3 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500">
          <option value="">-- Choose Policy --</option>
          {% for policy in policies %}
            <option value="{{ policy.id }}">{{ policy.policy_number }} - {{ policy.plan_name }}</option>
          {% endfor %}
        </select>
      </div>

      <!-- Claim Amount -->
      <div>
        <label for="amount" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          Claim Amount (USD)
        </label>
        <input type="number" step="0.01" min="0" name="amount" id="amount" required
          placeholder="Enter claim amount"
          class="w-full border border-gray-300 dark:border-gray-700 rounded-lg px-4 py-3 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500">
      </div>

      <!-- Notes -->
      <div>
        <label for="notes" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          Additional Notes (Optional)
        </label>
        <textarea name="notes" id="notes" rows="4" 
          class="w-full border border-gray-300 dark:border-gray-700 rounded-lg px-4 py-3 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500"
          placeholder="Add any relevant details about this claim..."></textarea>
      </div>

      <!-- Submit Button -->
      <div class="pt-4">
        <button type="submit" 
          class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition">
          üíæ Submit Claim
        </button>
      </div>
    </form>
  </div>

</div>
{% endblock %}
