{% extends 'dashboard/base.html' %}
{% load static %}

{% block title %}Policy Details | Health Insurance{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto p-6 bg-white rounded-xl shadow-lg mt-8">

  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold text-gray-800">{{ dashboard_title }}</h1>
    <a href="{% url 'policies:policy_list' %}" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
      ‚¨Ö Back to Policies
    </a>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <h2 class="font-semibold text-gray-700">Policy Number</h2>
      <p class="text-gray-900">{{ policy.policy_number }}</p>
    </div>
    <div>
      <h2 class="font-semibold text-gray-700">Policy Type</h2>
      <p class="text-gray-900">{{ policy.get_policy_type_display }}</p>
    </div>
    <div>
      <h2 class="font-semibold text-gray-700">Client</h2>
      <p class="text-gray-900">{{ policy.client.first_name }} {{ policy.client.last_name }}</p>
    </div>
    <div>
      <h2 class="font-semibold text-gray-700">Premium</h2>
      <p class="text-gray-900">${{ policy.premium }}</p>
    </div>
    <div>
      <h2 class="font-semibold text-gray-700">Start Date</h2>
      <p class="text-gray-900">{{ policy.start_date }}</p>
    </div>
    <div>
      <h2 class="font-semibold text-gray-700">Expiry Date</h2>
      <p class="text-gray-900">{{ policy.expiry_date }}</p>
    </div>
    <div class="md:col-span-2">
      <h2 class="font-semibold text-gray-700">Coverage Details</h2>
      <p class="text-gray-900 whitespace-pre-line">{{ policy.coverage_details|default:"No coverage details provided." }}</p>
    </div>
    <div>
      <h2 class="font-semibold text-gray-700">Max Claim Limit</h2>
      <p class="text-gray-900">${{ policy.max_claim_limit }}</p>
    </div>
    <div>
      <h2 class="font-semibold text-gray-700">Waiting Period (Days)</h2>
      <p class="text-gray-900">{{ policy.waiting_period_days }}</p>
    </div>
    <div class="md:col-span-2">
      <h2 class="font-semibold text-gray-700">Status</h2>
      <p class="text-gray-900">
        {% if policy.is_active %}
          <span class="text-green-600 font-semibold">Active</span>
        {% else %}
          <span class="text-red-600 font-semibold">Inactive</span>
        {% endif %}
      </p>
    </div>
  </div>

  <div class="mt-6 flex space-x-4">
    <a href="{% url 'policies:edit_policy' policy.pk %}" class="px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition">
      ‚úè Edit Policy
    </a>
    <a href="{% url 'policies:policy_list' %}" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
      ü°† Back to List
    </a>
  </div>

</div>
{% endblock %}
